(this["webpackJsonpgame-solitaire"]=this["webpackJsonpgame-solitaire"]||[]).push([[0],{104:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(7),i=a.n(s),o=a(1),l=a(40),d=a(9),u=a(10),m=a(11),f=a(12),h=a(159),p=a(158),v=a(157),g=a(33),b=a(162),C=a(35),S=a(3),y=a.n(S),O=a(160),N=(a(104),20),j=80,E=j/.72,x=1e3,k=1e3,D=0,w=0,T=54,I=8,L=[1,2,3,4,5,6,7,8,9,10],H=0,A=I/2*100,M=!1,P=0,B=0,z={1:{name:"\u5927\u767d",packs:2,firstShowNum:16,score:100},4:{name:"\u5165\u95e8",packs:4,firstShowNum:22,score:200},8:{name:"\u666e\u901a",packs:8,firstShowNum:54,score:500},16:{name:"\u56f0\u96be",packs:8,firstShowNum:54,score:500},32:{name:"\u4e13\u5bb6",packs:8,firstShowNum:54,score:500}},R=function(){for(var e=[],t=0;t<10;t++)e[t]=[];return e},W=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],a=[1,2,3,4,5,6,7,8,9,10,11,12,13],n=0;n<e;n++)t=t.concat(a);return t},J=function(e){return e.sort((function(){return Math.random()>.5?1:-1})),e},F=function(e){return 1===(""+e).length?"0"+e:e};var q=function(e){return(10+j)*e+16},G=function(e){return N*e+8},K=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).fitMobile=function(){var e=document.documentElement,t=e.offsetHeight,a=e.offsetWidth;if(t>a){var n=document.body,r=document.getElementsByClassName("spider-container")[0],c=document.getElementsByClassName("spider-wrap")[0];N=12,n.style.transform="rotate(90deg)",n.style.transformOrigin="0% 0%",n.style.position="relative",n.style.left="100%",n.style.width="100vh",n.style.height="100vw",r.style.maxHeight="100vw",r.style.padding="10px 10px";var s=a-24-30;s<370&&(s=370),c.style.minHeight="".concat(s,"px")}},r.getPostCardPos=function(){var e=r.spiderWrap.offsetWidth,t=r.spiderWrap.offsetHeight;x=e-8-(j=(e-32-90)/10),k=t-(E=j/.72)-10},r.getOriginData=function(){var e=r.state.selectedHardLevel,t=[],a=[],n=[],c=z[e];if(I=c.packs,T=c.firstShowNum,A=c.score,1==e){a=W(1);for(var s=0;s<2;s++)J(a),n=n.concat(a)}else if(4==e){a=W(1);for(var i=0;i<4;i++)J(a),n=n.concat(a)}else if(8==e)a=W(8),J(a),n=n.concat(a);else if(16==e){a=W(8);for(var o=0;o<2;o++)J(a);n=n.concat(a)}else if(32==e){a=W(8);for(var l=0;l<4;l++)J(a);n=n.concat(a)}n.map((function(e){t.push({show:!1,cardNum:e})})),r.setState({originData:t,dealing:!0},(function(){r.initDealCard()}))},r.timer=function(){H+=1;var e=parseInt(H/3600),t=parseInt(H/60),a=H%60;e=F(e),t=F(t),a=F(a);var n="00"===e?"".concat(t,":").concat(a):"".concat(e,":").concat(t,":").concat(a);r.setState({useTime:n})},r.initDealCard=function(){var e=r.state,t=e.originData,a=e.cardTable,c=Object(C.cloneDeep)(a);if(w>T-1)return r.setState({dealing:!1}),void(n=setInterval(r.timer,1e3));var s=w%10,i=Math.floor(w/10);if(w>=T-10){var o=Object(C.cloneDeep)(t);o[w].show=!0,r.setState({originData:o},(function(){r.onDealCard(w,s,i)}))}else r.onDealCard(w,s,i);c[w%10].push({cardId:w,index:Math.floor(w/10),cardNum:t[w].cardNum}),w+=1,r.setState({cardTable:c}),setTimeout((function(){r.initDealCard()}),50)},r.onShowMoreCard=function(){r.state.dealing||(r.setState({dealing:!0,selectedObj:{}}),D+=1,r.onRealShowMoreCard())},r.onRealShowMoreCard=function(){var e=r.state,t=e.originData,a=e.cardTable,n=Object(C.cloneDeep)(a),c=Object(C.cloneDeep)(t);if(w>=10*D+T||w>13*I-1)r.setState({dealing:!1});else{var s=w%10,i=n[s].length;n[s].push({cardId:w,index:i,cardNum:c[w].cardNum}),c[w].show=!0,r.setState({originData:c,cardTable:n},(function(){r.onDealCard(w,s,i),w+=1})),setTimeout((function(){r.onRealShowMoreCard()}),50)}},r.onDealCard=function(e,t,a){var n=document.getElementById("card-v".concat(e));n&&(n.style.zIndex=a+30*B,n.style.left=q(t)+"px",n.style.top=G(a)+"px",n.setAttribute("data-line",t),n.setAttribute("data-index",a),n.setAttribute("data-type",""),B+=1)},r.getCardNum=function(e,t){var a=r.state.cardTable,n=-1;return a[e]&&a[e][t]&&(n=a[e][t]&&a[e][t].cardNum||-1),n},r.onBindClick=function(e){var t=e.target,a=t.classList,n=t.dataset,c=n.line,s=n.index,i=n.type,o=t.id,l=r.state,d=l.cardTable,u=l.selectedObj,m=l.dealing,f=l.originData;if("origin"!==i){var p=o.replace("card-v","");if(!m){if(!a.contains("card")&&!a.contains("card-bg"))return r.onChangeActiveCSS(),void r.setState({selectedObj:{}});if(-1==s||f[p]&&f[p].show){var v=d[c];if(Object.values(u).length){var g=Object.keys(u)[0];if(d[c].length||-1!=s)if(g==c)1===u[g].length&&u[g][0].index==s?(r.setState({selectedObj:{}}),r.onChangeActiveCSS()):r.onChangeSelectedObj(c,s,o);else if(+s==v.length-1){var b=Object.keys(u)[0];d[c][s].cardNum-1===u[b][0].cardNum?r.onChangeCardTable(c,b):M?(r.onChangeSelectedObj(c,s,o),M=!1):(h.b.error("\u4e0d\u80fd\u79fb\u52a8\u5230\u90a3\u513f",{duration:1}),M=!0)}else r.onChangeSelectedObj(c,s,o);else r.onChangeCardTable(c,o)}else r.onChangeSelectedObj(c,s,o)}}}else r.onShowMoreCard()},r.onChangeSelectedObj=function(e,t,a){if(-1!=t){var n=r.state.cardTable[e];if(n){var c={};if(n.length===+t+1)c[e]=[{index:n[t].index,cardId:n[t].cardId,cardNum:n[t].cardNum}],r.onChangeActiveCSS([a]);else{for(var s=!0,i=n.length-1;i>=+t+1;i--)n[i].cardNum!==n[i-1].cardNum-1&&(s=!1);if(s){c[e]=[];for(var o=[],l=+t;l<n.length;l++){var d=n[l].cardId;o.push("card-v".concat(d)),c[e].push({index:n[l].index,cardId:d,cardNum:n[l].cardNum})}r.onChangeActiveCSS(o)}}r.setState({selectedObj:c})}}},r.onChangeActiveCSS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=document.getElementsByClassName("active");(t=Object(l.a)(t)).forEach((function(e){e.classList.remove("active")}));for(var a=0;a<e.length;a++){var n=document.getElementById(e[a]);n&&n.classList.add("active")}},r.onChangeCardTable=function(e){for(var t,a=r.state,n=a.selectedObj,c=a.cardTable,s=a.originData,i=Object.keys(n)[0],o=Object(C.cloneDeep)(c),l=Object(C.cloneDeep)(s),d=n[i][0].index,u=[],m=0;m<n[i].length;m++){var f=n[i][m].cardId,h=m+c[e].length;u.push({index:h,cardId:f,cardNum:n[i][m].cardNum}),r.onDealCard(f,e,h)}(t=o[e]).push.apply(t,u),o[i].splice(d,n[i].length);var p=o[i].length;A-=1,p&&!1===l[o[i][p-1].cardId].show&&(l[o[i][p-1].cardId].show=!0),r.onChangeActiveCSS(),r.setState({cardTable:o,originData:l,selectedObj:{}}),setTimeout((function(){r.checkComplete(e)}),300)},r.checkComplete=function(e){var t=r.state,a=t.cardTable,n=t.originData;if(a[e]&&!(a[e].length<13)){for(var c=a[e].length,s=!0,i=c-1;i>c-13;i--){var o=a[e][i].cardId;a[e][i].cardNum===a[e][i-1].cardNum-1&&n[o]&&n[o].show||(s=!1)}if(s){for(var l=Object(C.cloneDeep)(n),d=Object(C.cloneDeep)(a),u=c-1;u>=c-13;u--){var m=a[e][u].cardId,f=document.getElementById("card-v".concat(m));f&&(f.style.left=10+16*P+"px",f.style.top=k+"px",f.style.zIndex=1e3+13*P-a[e][u].cardNum)}if(P+=1,d[e].splice(c-13,13),d[e].length)l[d[e][d[e].length-1].cardId].show=!0;A+=100,P===I?h.b.success("\u606d\u559c\u4f60\uff0c\u987a\u5229\u901a\u5173\uff01"):h.b.success("\u7ee7\u7eed\u52aa\u529b\ud83d\udcaa\uff01"),r.setState({cardTable:d,originData:l})}}},r.judgeSelectedCss=function(e,t){var a=r.state.selectedObj,n=a.line===e&&a.indexes&&a.indexes.includes(t),c=!1,s=!1,i=!1,o=!1;return n&&(1===a.indexes.length?c=!0:a.indexes.length>=1&&(a.indexes[0]===t?s=!0:a.indexes[a.indexes.length-1]===t?i=!0:o=!0)),{isSelected:n,isSelectedOne:c,isSelectedTop:s,isSelectedBottom:i,isSelectedSide:o}},r.onPause=function(){var e=r.state.paused;clearInterval(n),e&&(n=setInterval(r.timer,1e3)),r.setState({paused:!e})},r.onSetHardLevel=function(e){var t=r.state.selectedHardLevel;r.setState({selectedHardLevel:e},(function(){e!=t&&p.a.confirm({title:"\u60a8\u9009\u62e9\u5217\u65b0\u7684\u96be\u5ea6\uff0c\u8981\u91cd\u65b0\u5f00\u59cb\u5417\uff1f",cancelText:"\u4e0b\u6b21",okText:"\u91cd\u6765",onOk:function(){r.onReset()}})}))},r.onChangeHardLevel=function(){var e=r.state.selectedHardLevel,t=Object.keys(z),a=t.indexOf(""+e);0===a?a=1:a===t.length-1?a=0:a+=1,r.setState({selectedHardLevel:t[a]})},r.onReset=function(){clearInterval(n),w=0,M=!1,H=0,A=0,D=0,P=0,r.setState({selectedObj:{},cardTable:R(),originData:[],useTime:"00:00"},(function(){r.getOriginData()}))},r.state={cardTable:R(),selectedObj:{},originData:[],dealing:!1,useTime:"00:00",selectedHardLevel:8},document.title="\u8718\u86db\u7eb8\u724c",r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fitMobile(),this.getPostCardPos(),this.getOriginData(),this.spiderWrap.addEventListener("click",this.onBindClick)}},{key:"render",value:function(){var e=this,t=this.state,a=(t.cardTable,t.originData),n=(t.selectedObj,t.useTime),r=t.paused,s=t.selectedHardLevel,i={width:j,height:E},l=!function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=!0,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){a=!1;break}return a}(),d=c.a.createElement(v.a,null,Object.keys(z).map((function(t){return c.a.createElement(v.a.Item,{onClick:function(){return e.onSetHardLevel(t)},key:t,className:y()({active:s==t})},z[t].name)})));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"spider-container"},c.a.createElement("div",{className:"spider-top"},c.a.createElement("span",{className:"left-show"},c.a.createElement("span",{className:"spider-score"},c.a.createElement("span",null,"\u5206\u6570\uff1a"),c.a.createElement("span",{className:"spider-value"},A)),c.a.createElement("span",{className:"spider-time"},c.a.createElement("span",null,"\u7528\u65f6\uff1a"),c.a.createElement("span",{className:"spider-value"},n))),c.a.createElement("span",{className:"right-btns"},l?c.a.createElement(g.a,{shape:"round",size:"small",onClick:this.onChangeHardLevel},z[s].name):c.a.createElement(b.a,{overlay:d,placement:"bottomCenter",overlayClassName:"hard-dropdown"},c.a.createElement(g.a,{shape:"round",size:"small"},z[s].name)),c.a.createElement(g.a,{type:"primary",shape:"round",size:"small",onClick:this.onPause},r?"\u7ee7\u7eed":"\u6682\u505c"),c.a.createElement(g.a,{type:"danger",shape:"round",className:"reset",size:"small",onClick:this.onReset},"\u91cd\u6765"))),c.a.createElement("div",{className:"spider-wrap",ref:function(t){return e.spiderWrap=t},style:{paddingTop:8,paddingLeft:16}},r&&c.a.createElement("div",{className:"pause-mask",onClick:this.onPause},c.a.createElement(O.a,null)),L.map((function(e,t){return c.a.createElement("div",{key:e,className:"card-bg","data-line":t,"data-index":-1,style:Object(o.a)(Object(o.a)({},i),{},{left:q(t),top:G(0),position:"absolute"})})})),a.map((function(e,t){var a=e.show?e.cardNum:"back",n=x;return t>=T&&(n=x-6*Math.floor((t-T)/10)),c.a.createElement("span",{key:t,id:"card-v".concat(t),"data-line":-1,"data-index":-1,"data-type":"origin",style:Object(o.a)(Object(o.a)({},i),{},{position:"absolute",left:n,top:k,zIndex:n,transition:"top ".concat(.3,"s, left ").concat(.3,"s")}),className:y()("origin-card card cardv".concat(a))})})),P===I&&c.a.createElement("div",{className:"next-game"},c.a.createElement(g.a,{type:"primary",shape:"round",onClick:this.onReset},"\u4e0b\u4e00\u5c40")))))}}]),a}(c.a.PureComponent);var Q=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(K,null))};a(152),a(153);i.a.render(c.a.createElement(Q,null),document.getElementById("root"))},98:function(e,t,a){e.exports=a(154)}},[[98,1,2]]]);
//# sourceMappingURL=main.3c945f69.chunk.js.map